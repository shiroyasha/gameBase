// Generated by CoffeeScript 1.6.3
(function() {
  define(function(require, exports, module) {
    var Background, RenderQueue, Stars, area, c;
    area = $('canvas')[0];
    c = area.getContext('2d');
    RenderQueue = require('RenderQueue');
    Background = require('Background');
    Stars = require('Stars');
    $(document).on('keydown', function(e) {
      return KEYS[e.keyCode] = true;
    });
    $(document).on('keyup', function(e) {
      return delete KEYS[e.keyCode];
    });
    return $(function() {
      var lastTime, queue, render, _loop;
      queue = new RenderQueue();
      queue.add(new Background());
      queue.add(new Stars());
      render = function(dt) {
        queue.update(dt);
        return queue.render(c);
      };
      lastTime = null;
      _loop = function(time) {
        var dt;
        if (lastTime === null) {
          lastTime = time;
        }
        dt = time - lastTime;
        render(dt);
        lastTime = time;
        return requestAnimationFrame(_loop);
      };
      return requestAnimationFrame(_loop);
    });
  });

}).call(this);
